# Single Worker Workload Example
# ==============================
# A simple configuration for deploying a single background worker.
# Workers process jobs asynchronously and don't require ingress.

id: my-background-worker

workloads:
  job-processor:
    type: worker

    image:
      repository: job-processor
      tag: v1.2.0

    replicas: 3

    # Workers don't need ingress - explicitly set to null
    ingress: null

    resources:
      requests:
        cpu: 250m
        memory: 256Mi

    annotations:
      apps.workleap.com/flavor: worker
      prometheus.io/scrape: "true"

    autoscaling:
      horizontal:
        enabled: true
        minReplicas: 2
        maxReplicas: 8
