id: multi-env-service
workloads:
  api-gateway:
    kind: api
    image:
      repository: api-gateway
    buildConfig:
      path: /root/src/ApiGateway/ApiGateway.csproj
    ingress:
      pathPrefix: /gateway
    replicas: 2
    resources:
      requests:
        cpu: 100m
        memory: 128Mi
    autoscaling:
      horizontal:
        minReplicas: 2
        maxReplicas: 4
    labels:
      environment: staging
      team: platform
